/* src/Styles/ShopByCategory.css
   Premium big category tiles + centered section title (Arabic / RTL)
*/

:root{
  --cat-radius: 22px;
  --cat-gap: 24px;
  --cat-shadow: 0 10px 28px rgba(17,24,39,.12);
  --cat-shadow-hover: 0 18px 42px rgba(17,24,39,.20);

  --underline: #e6dcd0;
  --overlay-from: rgba(0,0,0,0.00);
  --overlay-to: rgba(0,0,0,0.55);

  /* Title tokens */
  --title-ink: #2b2b2b;
  --title-accent: #A67C52;
  --title-accent-2: #8E683F;
  --title-soft: rgba(166,124,82,.18);
}

/* Section wrapper */
.shopcat-section{
  max-width: 1280px;
  margin: 44px auto 32px;
  padding: 0 16px;
}

/* ---------------------------
   Centered premium title
---------------------------- */
.shopcat-head{
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 18px;
  text-align: center;
}

.shopcat-title{
  position: relative;
  display: inline-block;
  margin: 0;
  padding: 8px 18px 18px;
  font-weight: 900;
  font-size: clamp(1.6rem, 2.7vw, 2.4rem);
  line-height: 1.2;
  color: var(--title-ink);
  letter-spacing: .02em;
  transform: translateY(10px);
  opacity: 0;
  animation: shopcatTitleIn .85s ease forwards;
  text-shadow: 0 12px 28px rgba(17,24,39,.10);
}

/* Soft glow behind title */
.shopcat-title::before{
  content:"";
  position:absolute;
  left: 50%;
  top: 50%;
  width: 120%;
  height: 80%;
  transform: translate(-50%,-52%);
  background: radial-gradient(circle at 50% 50%, var(--title-soft), rgba(166,124,82,0) 62%);
  filter: blur(2px);
  opacity: .9;
  pointer-events: none;
}

/* Underline + shimmer */
.shopcat-title::after{
  content:"";
  position:absolute;
  left: 50%;
  bottom: 4px;
  width: min(220px, 70%);
  height: 4px;
  transform: translateX(-50%) scaleX(.25);
  transform-origin: center;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--title-accent), #e7dccf, var(--title-accent-2));
  box-shadow: 0 8px 20px rgba(166,124,82,.20);
  animation: shopcatUnderline .85s ease .15s forwards, shopcatShimmer 2.4s linear 1.1s infinite;
}

/* RTL tune */
[dir="rtl"] .shopcat-title{
  letter-spacing: 0;
}

/* ===============================
   Replay animation on hover
=============================== */

.shopcat-section:hover .shopcat-title{
  animation: none;
}

.shopcat-section:hover .shopcat-title{
  animation: shopcatTitleIn .85s ease forwards;
}

.shopcat-section:hover .shopcat-title::after{
  animation:
    shopcatUnderline .85s ease forwards,
    shopcatShimmer 2.4s linear .9s infinite;
}


/* Title animations */
@keyframes shopcatTitleIn{
  from{ opacity:0; transform: translateY(12px); filter: blur(2px); }
  to{ opacity:1; transform: translateY(0); filter: blur(0); }
}
@keyframes shopcatUnderline{
  to{ transform: translateX(-50%) scaleX(1); }
}
@keyframes shopcatShimmer{
  0%{ filter: brightness(1); }
  50%{ filter: brightness(1.22); }
  100%{ filter: brightness(1); }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .shopcat-title{ animation: none; opacity:1; transform:none; }
  .shopcat-title::after{ animation: none; transform: translateX(-50%) scaleX(1); }
}

/* ---------------------------
   Grid layout
---------------------------- */
.shopcat-grid{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--cat-gap);
  align-items: stretch;
  justify-items: stretch;
}

@media (max-width: 992px){
  .shopcat-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px){
  .shopcat-grid{ grid-template-columns: 1fr; }
}

/* Card container */
.cat-card{
  position: relative;
  display: block;
  width: 100%;
  border-radius: var(--cat-radius);
  overflow: hidden;
  box-shadow: var(--cat-shadow);
  background: #fff;
  transform: translateZ(0);
  transition: transform .28s ease, box-shadow .28s ease;
  will-change: transform, box-shadow;
}
.cat-card:hover{
  transform: translateY(-6px);
  box-shadow: var(--cat-shadow-hover);
}

/* Image area (large tile) */
.cat-media{
  position: relative;
  height: clamp(320px, 34vw, 520px);
}
.cat-media img{
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  object-position: center;
  background-color: transparent;
  transform: scale(1.06);
  transition: transform .7s ease;
  will-change: transform;
}
.cat-card:hover .cat-media img{ transform: scale(1.1); }

/* Smaller height on phones */
@media (max-width: 640px){
  .cat-media{ height: clamp(240px, 60vw, 360px); }
}

/* Overlay with centered text */
.cat-overlay{
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: #fff;
  padding: 22px 20px;
  background-image: linear-gradient(
    to bottom,
    var(--overlay-from) 30%,
    var(--overlay-to) 100%
  );
}

/* Premium fade-up for overlay content */
.cat-overline,
.cat-title,
.cat-cta{
  transform: translateY(10px);
  opacity: 0;
  animation: catTextIn .75s ease forwards;
  animation-delay: calc(90ms + (var(--i, 0) * 70ms));
}
@keyframes catTextIn{
  from{ opacity:0; transform: translateY(10px); filter: blur(1px); }
  to{ opacity:1; transform: translateY(0); filter: blur(0); }
}

.cat-overline{
  font-size: clamp(.78rem, 1.5vw, .95rem);
  letter-spacing: .16em;
  text-transform: uppercase;
  opacity: .95;
  margin-bottom: 6px;
}

.cat-title{
  font-weight: 800;
  font-size: clamp(1.4rem, 2.8vw, 2.2rem);
  line-height: 1.15;
  margin: 0 0 10px 0;
  text-transform: uppercase;
  text-shadow: 0 2px 10px rgba(0,0,0,.35);
}

.cat-cta{
  font-weight: 600;
  font-size: clamp(.85rem, 1.6vw, 1.05rem);
  letter-spacing: .12em;
  text-transform: uppercase;
  opacity: .98;
}

.cat-underline{
  display: block;
  height: 3px;
  width: 92px;
  border-radius: 2px;
  background: var(--underline);
  margin-top: 10px;
  transform: scaleX(.15);
  transform-origin: center;
  transition: transform .45s ease;
}
.cat-card:hover .cat-underline{ transform: scaleX(1); }

/* RTL text tune */
[dir="rtl"] .cat-overline,
[dir="rtl"] .cat-title,
[dir="rtl"] .cat-cta{
  letter-spacing: 0;
  text-transform: none;
}

/* Keyboard focus */
.cat-card:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 3px #fff,
    0 0 0 6px rgba(217, 151, 73, .55),
    var(--cat-shadow-hover);
  transform: translateY(-4px);
}
